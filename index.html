<!doctype html>
<html>
    <head>  
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link href="./src/style.css" rel="stylesheet">
    
        <script src="./src/main.ts" type="module"></script>
    </head>
    <body class="bg-gray-800" x-data="{ isVisible: false }">
        <nav class="bg-white border-gray-200 dark:bg-gray-900">
        <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
            <div class="flex items-stretch">
                <span class="self-center text-2xl font-semibold whitespace-nowrap dark:text-white">KOSák</span>
                <img src="./src/res/kos_logo.svg" alt="Logo" class="w-12 h-12 ml-3" />
            </div>
            <div class="hidden w-full md:block md:w-auto" id="navbar-default">
            <ul class="font-medium flex flex-col p-4 md:p-0 mt-4 border border-gray-100 rounded-lg bg-gray-50 md:flex-row md:space-x-8 rtl:space-x-reverse md:mt-0 md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700">
                <li>
                    <button class="bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded cursor-pointer" id="new-schedule" @click="isVisible = true">Nový rozvrh</button>
                </li>
            </ul>
            </div>
        </div>
        </nav>

         <!-- Main Content Container -->
        <div class="relative flex justify-center items-start w-full max-w-screen-xl mx-auto mt-8 px-4 gap-4">
          
          <!-- Overlay Mask covering both canvas and panel -->
          <div id="canvas-mask" class="absolute inset-0 bg-gray-600 bg-opacity-50 z-20 pointer-events-none rounded flex flex-col items-center justify-center">
            <h2 class="text-2xl font-bold text-gray-500">Je tady nějak prázdno</h2>
            <p class="text-gray-500 font-bold">(klikni na tlačítko nový rozvrh a stane se magie)</p>
          </div>

          <!-- Canvas Container -->
          <div class="w-3/4 relative">
            <canvas id="schedule-canvas" class="w-full bg-white z-10"></canvas>
          </div>

          <!-- Right Panel -->
          <div class="w-1/4 bg-gray-900 p-4 rounded shadow-md z-10">
            <h2 class="text-xl font-semibold mb-2 text-white">Přidání dalších hodin</h2>
            <p class="text-white">Zde bude nějaký text nebo obsah.</p>
          </div>
        </div>


        <!-- Popup Background -->
        <div 
          x-show="isVisible"
          x-transition:enter="transition ease-out duration-300"
          x-transition:enter-start="opacity-0"
          x-transition:enter-end="opacity-100"
          x-transition:leave="transition ease-in duration-200"
          x-transition:leave-start="opacity-100"
          x-transition:leave-end="opacity-0"
          class="fixed inset-0 bg-gray-500/75"
          aria-hidden="true"
          id="popup-background"
        ></div>

        <!-- Popup Wrapper -->
        <div 
          x-show="isVisible"
          x-transition:enter="transition ease-out duration-300"
          x-transition:enter-start="opacity-0 scale-95"
          x-transition:enter-end="opacity-100 scale-100"
          x-transition:leave="transition ease-in duration-200"
          x-transition:leave-start="opacity-100 scale-100"
          x-transition:leave-end="opacity-0 scale-95"
          class="fixed inset-0 z-30 w-screen overflow-y-auto"
          id="file-handler-popup"
        >
          <div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0">
            <div class="relative transform overflow-hidden rounded-lg bg-gray-500 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg">
              <div class="bg-gray-600 px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                <div>
                  <div class="mt-3 mb-2 text-center sm:text-left">
                    <h3 class="text-base font-semibold text-white">Nahraj rozvrh ve formátu PDF</h3>
                  </div>
                  <input class="block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 px-3 py-3" id="schedule-input" type="file">
                </div>
              </div>
              <div class="bg-gray-600 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6">
                <button type="button" @click="isVisible = false" class="inline-flex w-full justify-center rounded-md bg-green-500 px-3 py-2 text-sm font-semibold text-white shadow-xs hover:bg-green-700 sm:ml-3 sm:w-auto cursor-pointer" id="schedule-upload">
                  Upload
                </button>
                <button type="button" @click="isVisible = false" class="mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-xs ring-1 ring-gray-300 ring-inset hover:bg-gray-300 sm:mt-0 sm:w-auto cursor-pointer">
                  Cancel
                </button>
              </div>
            </div>
          </div>
        </div>
    </body>
</html>